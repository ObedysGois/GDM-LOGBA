// Arquivo corrigido para Registros.jsx
// Este arquivo contÃ©m a correÃ§Ã£o para o problema de sintaxe na linha 527

// ... cÃ³digo anterior ...

// Trecho corrigido:
if (anexosParaUsar.length > 0) {
  message += `\nğŸ“ Anexos: ${anexosParaUsar.length} arquivo(s)\n`;
  anexosParaUsar.forEach((attachment, index) => {
    if (attachment.file_url) {
      message += `   ğŸ“ ${attachment.original_name || attachment.file_name}: ${attachment.file_url}\n`;
    }
  });
}

message += `\n\nğŸ‡ğŸ¥¦ğŸ‰ğŸ¥ğŸğŸğŸ«‘ğŸ…ğŸ‹ğŸ§„ğŸ«šğŸ\n\n`;

const encodedMessage = encodeURIComponent(message);

// Detectar dispositivo mÃ³vel
const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

let whatsappUrl;
if (isMobile) {
  // Para mobile, tentar abrir app diretamente
  whatsappUrl = `whatsapp://send?text=${encodedMessage}`;
} else {
  // Para desktop/web, usar api.whatsapp.com
  whatsappUrl = `https://api.whatsapp.com/send?text=${encodedMessage}`;
}
try {
  // Tentar abrir WhatsApp
  window.open(whatsappUrl, '_blank');
} catch (error) {
  console.error('Erro ao abrir WhatsApp:', error);
  // Fallback: copiar para clipboard
  navigator.clipboard.writeText(message).then(() => {
    alert('Mensagem copiada para a Ã¡rea de transferÃªncia! Cole no WhatsApp.');
  }).catch(() => {
    alert(`Mensagem gerada:\n\n${message}`);
  });
}

// ... cÃ³digo posterior ...